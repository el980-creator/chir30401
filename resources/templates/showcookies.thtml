<html>
<head>
    <title>Chirpy - Session Information</title>
</head>
<body>
    <nav>
        <a href="/">Home</a> | 
        <#if loggedInUser??>
            <a href="/timeline/">Timeline</a> | 
            <a href="/post/">Post Chirp</a> | 
            <a href="/search/">Search</a> | 
            <a href="/listusers/">Users</a> | 
            <a href="/listcookies/">Cookies</a> | 
            <a href="/logout/">Logout</a>
        <#else>
            <a href="/register/">Register</a> | 
            <a href="/login/">Login</a> | 
            <a href="/listusers/">Users</a> | 
            <a href="/listcookies/">Cookies</a>
        </#if>
    </nav>
    
    <h1>Current Session Information</h1>
    
    <#if loggedInUser??>
        <p>Currently logged in as: ${loggedInUser}</p>
    <#else>
        <p>Not logged in</p>
    </#if>
    
    <p>This page shows your current cookies and demonstrates the secure session token system.</p>
    
    <h2>Your Cookies:</h2>
    <ul>
        <#list cookienames as name>
            <li>
                <strong>${name}</strong>: 
                <#list cookievalues as value>
                    <#if name?index == value?index>
                        ${value}
                    </#if>
                </#list>
            </li>
        </#list>
    </ul>
    
    <p>
        Note: The chirpy-session-id cookie contains a secure random UUID token, 
        not your actual username. This makes the session more secure and prevents cookie tampering.
    </p>
    
    <div style="margin-top: 20px;">
        <#if loggedInUser??>
            <a href="/timeline/">View Timeline</a> | 
            <a href="/post/">Post New Chirp</a> | 
            <a href="/search/">Search Chirps</a> | 
            <a href="/">Home</a>
        <#else>
            <a href="/login/">Login</a> | 
            <a href="/register/">Register</a> | 
            <a href="/">Home</a>
        </#if>
    </div>
</body>
</html>